<polymer-element name="ab-widget" attributes="options">
  <template>
    <style>

      :host {
        display: block;
        width: 100%;
        height: 100%;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        overflow: auto;
        position: relative;
      }

      #edit, #view {
        width: 100%;
        height: 100%;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
      }

      #edit {
        -webkit-transition: all 250ms ease;
        -moz-transition: all 250ms ease;
        -ms-transition: all 250ms ease;
        -o-transition: all 250ms ease;
        transition: all 250ms ease;
        position: absolute;
        top: -100%;
        left: 0;
        z-index: 10;
        padding: 10px;
        background-color: #BDD6EA;
      }

      #edit-tab {
        position: absolute;
        top: 100%;
        right: 0;
        display: block;
        background-color: #BDD6EA;
        padding: 4px 9px;
        cursor: pointer;
      }

      #edit.visible {
        top: 0;
        height: 90%;
      }

    </style>


    <div id="view">
      <content select=".view"></content>
    </div>
    <div id="edit">
      <content select=".edit"></content>
      <div id="edit-tab" on-click="{{ toggleEdit }}">Edit</div>
    </div>

  </template>
  <script>
    Polymer('ab-widget', {

      toggleEdit: function(toggle) {

        toggle = !this.$.edit.classList.contains('visible');

        if(toggle) {
          this.$.edit.classList.add('visible');
          this.asyncFire('widget-edit-show');
        } else {
          this.$.edit.classList.remove('visible');
          this.asyncFire('widget-edit-hide');
        }
      }

    });
  </script>
</polymer-element>
